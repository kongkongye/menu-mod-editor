window.docSpec=function(){var a={caption:"删除",action:Xonomy.deleteAttribute},b={caption:"删除",action:Xonomy.deleteElement},c=function(b,c){var d=[];return b&&d.push({caption:"提示: "+b}),c||d.push(a),d},d=[{caption:"是",value:"true"},{caption:"否",value:"false"}],e=function(a,b,c){return{caption:a,action:Xonomy.newAttribute,actionParameter:{name:b,value:c},hideIf:function(a){return a.hasAttribute(b)}}},f=function(a,b){return{caption:a,action:Xonomy.newElementChild,actionParameter:b}},g=function(a,b){var c=parseInt(b);return isNaN(c)||c+""!==b?(Xonomy.warnings.push({htmlID:a.htmlID,text:"必须是整数!"}),!1):!0},h=function(){return{displayName:"条件端",menu:c("默认服务器端"),asker:Xonomy.askPicklist,askerParameter:[{caption:"服务器",value:"server"},{caption:"本地",value:"local"}]}},i=function(){return{displayName:"条件",menu:c("条件不满足时不会显示,格式'条件名:条件值'"),asker:Xonomy.askString}},j=function(){return{displayName:"悬浮提示",menu:c("可使用变量,可使用颜色字符$(优先于'悬浮提示引用'属性配置)"),asker:Xonomy.askString}},k=function(){return{displayName:"悬浮提示引用",menu:c("悬浮提示引用的ID"),asker:Xonomy.askString}},m=function(a){return"menu"===a.parent().name};return{elements:{menu:{displayName:"菜单",attributes:{server:{displayName:"是否服务器菜单",menu:c("false时表示本地菜单(默认true)"),asker:Xonomy.askPicklist,askerParameter:d},enable:{displayName:"是否启用",menu:c("默认true"),asker:Xonomy.askPicklist,askerParameter:d},title:{displayName:"标题",menu:c("标题(不会转换颜色字符$)",!0),asker:Xonomy.askString},pageContext:{displayName:"页面上下文",menu:c("格式'页面变量处理器名[:页面变量处理器数据]'"),asker:Xonomy.askString},listContext:{displayName:"列表上下文",menu:c("格式'列表变量处理器名[:列表变量处理器数据]'"),asker:Xonomy.askString}},menu:[{caption:"添加属性",menu:[e("是否服务器菜单","server","true"),e("是否启用","enable","true"),e("标题","title",""),e("页面上下文","pageContext",""),e("列表上下文","listContext","")]},{caption:"添加子元素",menu:[f("添加行列表","<lines/>"),f("添加悬浮列表","<hovers/>"),f("添加映射列表","<maps/>")]}]},lines:{displayName:"行列表",menu:[{caption:"添加子元素",menu:[f("添加行","<line/>"),f("添加列表","<list/>"),f("添加导入",'<import path=""/>')]},b]},hovers:{displayName:"悬浮列表",menu:[{caption:"添加子元素",menu:[f("添加悬浮提示",'<hover id=""/>')]},b]},maps:{displayName:"映射列表",menu:[{caption:"添加子元素",menu:[f("添加映射",'<map name=""/>')]},b]},line:{displayName:"行",attributes:{conditionSide:h(),condition:i(),hover:j(),hoverRef:k(),sub:{displayName:"所属子菜单",menu:c("默认无所属"),asker:Xonomy.askString},align:{displayName:"对齐方式",menu:c("默认居中对齐"),asker:Xonomy.askPicklist,askerParameter:[{caption:"向左对齐",value:"left"},{caption:"居中对齐",value:"center"},{caption:"向右对齐",value:"right"}]},alignCenter:{displayName:"居中对齐类型",menu:c("只有对齐属性为居中时才有效,默认两端留空"),asker:Xonomy.askPicklist,askerParameter:[{caption:"两端留空(  ooo  )",value:"spaceBoth"},{caption:"在中间留空(o  o  o)",value:"spaceBetween"},{caption:"在周围留空( o o o )",value:"spaceAround"}]},separate:{displayName:"行分隔",menu:c("true时会与前面隔一行,默认false(如果是第一行或前面已经有空行则无效果)"),asker:Xonomy.askPicklist,askerParameter:d}},menu:[{caption:"添加属性",menu:[e("条件端","conditionSide","local"),e("条件","condition",""),e("悬浮提示","hover",""),e("悬浮提示引用","hoverRef",""),e("所属子菜单","sub",""),e("对齐方式","align","center"),e("居中对齐类型","alignCenter","spaceBoth"),e("行分隔","separate","false")]},{caption:"添加子元素",menu:[f("添加容器","<div/>"),f("添加文本","<text/>"),f("添加按钮",'<button value=""/>'),f("添加输入",'<input name=""/>'),f("添加子菜单","<sub/>"),f("添加物品",'<items param=""/>'),f("添加徽章","<badge/>")]},b],canDropTo:["lines","list"],collapsed:m},list:{displayName:"列表",attributes:{conditionSide:h(),condition:i(),hover:j(),hoverRef:k(),size:{displayName:"页面大小",menu:c("列表页面大小,必须大于等于1"),asker:Xonomy.askString}},menu:[{caption:"添加属性",menu:[e("条件端","conditionSide","local"),e("条件","condition",""),e("悬浮提示","hover",""),e("悬浮提示引用","hoverRef",""),e("大小","size","10")]},{caption:"添加子元素",menu:[f("添加行","<line/>"),f("添加导入",'<import path=""/>')]},b],canDropTo:["lines"],collapsed:m},"import":{displayName:"导入",attributes:{conditionSide:h(),condition:i(),hover:j(),hoverRef:k(),path:{displayName:"菜单路径",menu:c("导入菜单路径,格式'仓库ID:命名空间:路径'",!0),asker:Xonomy.askString}},menu:[{caption:"添加属性",menu:[e("条件端","conditionSide","local"),e("条件","condition",""),e("悬浮提示","hover",""),e("悬浮提示引用","hoverRef","")]},b],canDropTo:["lines","list"],collapsed:m},div:{displayName:"容器",attributes:{conditionSide:h(),condition:i(),hover:j(),hoverRef:k()},menu:[{caption:"添加属性",menu:[e("条件端","conditionSide","local"),e("条件","condition",""),e("悬浮提示","hover",""),e("悬浮提示引用","hoverRef","")]},{caption:"添加子元素",menu:[f("添加容器","<div/>"),f("添加文本","<text/>"),f("添加按钮",'<button value=""/>'),f("添加输入",'<input name=""/>'),f("添加子菜单","<sub/>"),f("添加物品",'<items param=""/>'),f("添加徽章","<badge/>")]},b],canDropTo:["line","div"],asker:Xonomy.askString},text:{displayName:"文本",attributes:{conditionSide:h(),condition:i(),hover:j(),hoverRef:k()},menu:[{caption:"提示: 可使用变量,可使用颜色字符$"},{caption:"添加属性",menu:[e("条件端","conditionSide","local"),e("条件","condition",""),e("悬浮提示","hover",""),e("悬浮提示引用","hoverRef","")]},b],hasText:!0,oneliner:!0,canDropTo:["line","div"],asker:Xonomy.askString},button:{displayName:"按钮",attributes:{conditionSide:h(),condition:i(),hover:j(),hoverRef:k(),type:{displayName:"动作类型",menu:c("按钮动作类型"),asker:Xonomy.askPicklist,askerParameter:[{caption:"执行命令",value:"cmd"},{caption:"打开url",value:"url"},{caption:"打开文件",value:"file"}]},cmdSide:{displayName:"命令端",menu:c("只在类型为命令时有效,默认服务端"),asker:Xonomy.askPicklist,askerParameter:[{caption:"服务端",value:"server"},{caption:"本地端",value:"local"}]},value:{displayName:"值",menu:c("与动作类型有关,分别为命令内容/url地址/文件地址"),asker:Xonomy.askString},mode:{displayName:"模式",menu:c("执行按钮后的动作,默认无操作"),asker:Xonomy.askPicklist,askerParameter:[{caption:"关闭菜单",value:"close"},{caption:"退出菜单",value:"exit"},{caption:"返回菜单",value:"back"},{caption:"无操作",value:"stay"},{caption:"刷新页面",value:"refresh"}]},optional:{displayName:"可选输入变量",menu:c("可选输入变量列表,多个值以逗号(,)分隔"),asker:Xonomy.askString}},menu:[{caption:"添加属性",menu:[e("条件端","conditionSide","local"),e("条件","condition",""),e("悬浮提示","hover",""),e("悬浮提示引用","hoverRef",""),e("动作类型","type","cmd"),e("命令端","cmdSide","server"),e("值","value",""),e("模式","mode","stay"),e("可选变量","optional","")]},b],hasText:!0,oneliner:!0,canDropTo:["line","div"],asker:Xonomy.askString},input:{displayName:"输入",attributes:{conditionSide:h(),condition:i(),hover:j(),hoverRef:k(),name:{displayName:"变量名",menu:c(),asker:Xonomy.askString},type:{displayName:"类型",menu:c("变量类型限制"),asker:Xonomy.askPicklist,askerParameter:[{caption:"整数",value:"integer"},{caption:"实数",value:"real"},{caption:"字符串",value:"string"}]},"default":{displayName:"默认值",menu:c("可使用输入变量"),asker:Xonomy.askString}},menu:[{caption:"添加属性",menu:[e("条件端","conditionSide","local"),e("条件","condition",""),e("悬浮提示","hover",""),e("悬浮提示引用","hoverRef",""),e("变量名","name",""),e("类型","type","string"),e("默认值","default","")]},b],oneliner:!0,canDropTo:["line","div"]},sub:{displayName:"子菜单",attributes:{conditionSide:h(),condition:i(),hover:j(),hoverRef:k(),name:{displayName:"子菜单名",menu:c("默认为空,空也是正常的值(不能包含@符号)"),asker:Xonomy.askString},"default":{displayName:"初始状态",menu:c("默认关闭"),asker:Xonomy.askPicklist,askerParameter:[{caption:"开启",value:"open"},{caption:"关闭",value:"closed"}]},group:{displayName:"所属子菜单组",menu:c("默认无组"),asker:Xonomy.askString}},menu:[{caption:"添加属性",menu:[e("条件端","conditionSide","local"),e("条件","condition",""),e("悬浮提示","hover",""),e("悬浮提示引用","hoverRef",""),e("子菜单名","name",""),e("初始状态","default","closed"),e("所属子菜单组","group","")]},b],oneliner:!0,canDropTo:["line","div"]},items:{displayName:"物品",attributes:{conditionSide:h(),condition:i(),hover:j(),hoverRef:k(),showHover:{displayName:"显示悬浮提示",menu:c("是否显示物品的悬浮提示,默认true"),asker:Xonomy.askPicklist,askerParameter:d},side:{displayName:"物品端",menu:c("物品所属的端,默认服务端"),asker:Xonomy.askPicklist,askerParameter:[{caption:"服务端",value:"server"},{caption:"本地端",value:"local"}]},param:{displayName:"变量",menu:c("格式'物品处理器名[:物品处理器数据]'(物品处理器数据可以包含变量)"),asker:Xonomy.askString}},menu:[{caption:"添加属性",menu:[e("条件端","conditionSide","local"),e("条件","condition",""),e("悬浮提示","hover",""),e("悬浮提示引用","hoverRef",""),e("显示悬浮提示","showHover","true"),e("物品端","side","server"),e("变量","param","")]},b],oneliner:!0,canDropTo:["line","div"]},badge:{displayName:"徽章",attributes:{conditionSide:h(),condition:i(),hover:j(),hoverRef:k(),color:{displayName:"背景颜色",menu:c("默认'a'"),asker:Xonomy.askPicklist,askerParameter:[{caption:"0",value:"0"},{caption:"1",value:"1"},{caption:"2",value:"2"},{caption:"3",value:"3"},{caption:"4",value:"4"},{caption:"5",value:"5"},{caption:"6",value:"6"},{caption:"7",value:"7"},{caption:"8",value:"8"},{caption:"9",value:"9"},{caption:"a",value:"a"},{caption:"b",value:"b"},{caption:"c",value:"c"},{caption:"d",value:"d"},{caption:"e",value:"e"},{caption:"f",value:"f"}]}},menu:[{caption:"添加属性",menu:[e("条件端","conditionSide","local"),e("条件","condition",""),e("悬浮提示","hover",""),e("悬浮提示引用","hoverRef",""),e("背景颜色","color","a")]},b],oneliner:!0,canDropTo:["line","div"]},hover:{displayName:"悬浮提示",attributes:{id:{displayName:"悬浮提示ID",menu:c("",!0),asker:Xonomy.askString}},menu:[{caption:"添加属性",menu:[e("悬浮提示ID","id","")]},{caption:"添加子元素",menu:[f("添加行","<hoverLine/>")]},b],canDropTo:["hovers"]},hoverLine:{displayName:"悬浮提示行",menu:[{caption:"提示: 可使用变量,可使用颜色字符$"},b],hasText:!0,oneliner:!0,canDropTo:["hover"],asker:Xonomy.askString},map:{displayName:"映射",attributes:{name:{displayName:"映射名",menu:c("",!0),asker:Xonomy.askString}},menu:[{caption:"添加属性",menu:[e("映射名","name","")]},{caption:"添加子元素",menu:[f("添加映射值","<mapValue/>")]},b],canDropTo:["maps"]},mapValue:{displayName:"映射值",attributes:{key:{displayName:"键",menu:c("未设置时为null,null会匹配任意键(空字符串也是正常的键,会匹配空字符串)"),asker:Xonomy.askString}},menu:[{caption:"添加属性",menu:[e("键","key","")]},b],hasText:!0,oneliner:!0,canDropTo:["map"],asker:Xonomy.askString}},onchange:function(){console.log("onchange...")},validate:function(a){var b,c,d,e,f,h;console.log("validate..."),b=a.getDescendantElements("lines"),b.length>1&&Xonomy.warnings.push({htmlID:b[b.length-1].htmlID,text:"最多只能有一个行列表!"}),c=a.getDescendantElements("hovers"),c.length>1&&Xonomy.warnings.push({htmlID:c[c.length-1].htmlID,text:"最多只能有一个悬浮列表!"}),d=a.getDescendantElements("maps"),d.length>1&&Xonomy.warnings.push({htmlID:d[d.length-1].htmlID,text:"最多只能有一个映射列表!"}),e=a.getDescendantElements("list"),e.length>1&&Xonomy.warnings.push({htmlID:e[e.length-1].htmlID,text:"最多只能有一个列表!"}),e.length>0&&(f=e[0].getAttribute("size"),void 0!==f&&null!==f&&g(f,f.value)&&(h=parseInt(f.value),1>h&&Xonomy.warnings.push({htmlID:f.htmlID,text:"必须大于等于1!"})))}}}();